<div id="home">
    @if (loaded) {
        @if (data.length > 0) {
            <h1 id="welcome">Welcome, {{name}}</h1>
            <div id="selector">
                <h2 id="selection">{{league}}</h2>
                <div id="dropdown-icon">
                    <div id="dropdown-left"></div>
                    <div id="dropdown-right"></div>
                </div>
                <div id="dropdown-contents">
                    @for (option of data; track option.name) {
                        @if (option.name != league) {
                            <p class="league-option" (click)="handleSelection(option.name)">{{option.name}}</p>
                        }
                    }
                    <button class="dropdown-button" (click)="handleJoinLeague()">Join a League</button>
                    <button class="dropdown-button" (click)="handleCreateLeague()">Create a League</button>
                </div>
            </div>
            <div id="selector-space"></div>
            <div id="league-rankings-border">
                <table id="league-rankings">
                    <tr id="league-header">
                        <th class="rank">Rank</th>
                        <th class="team">Team</th>
                        <th class="points">Points</th>
                    </tr>
                    @for (squad of squads; track $index) {
                        <tr [class]="squad.class" (click)="handleSquad(squad.username)">
                            <td class="rank">{{squad.rank}}</td>
                            <td class="team">{{squad.name}}</td>
                            <td class="points">{{squad.points}}</td>
                        </tr>
                    }
                </table>
            </div>
        } @else {
            <div id="league-prompt">
                <h1 id="leagueless-welcome">Welcome, {{name}}</h1>
                <p id="leagueless-subtitle">It looks like you aren't in any leagues yet.</p>
                <button id="leagueless-join" (click)="handleJoinLeague()">Join a League</button>
                <button id="leagueless-create" (click)="handleCreateLeague()">Create a League</button>
            </div>
        }
    } @else {
        <p id="loading">Loading...</p>
    }
</div>